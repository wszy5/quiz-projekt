{% extends 'Quiz/dependencies.html' %}

  {% block content %}
  {% load static %}
  <div class="container mt-5">
      <h1 class="text-center mb-4 card-body">Quiz o Gwarze Wielkopolskiej</h1>

      <div align="right" id="displaytimer" class="mb-3">
          <b>Timer: 0 seconds</b>
      </div>
  
      <form method="POST">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-primary">Zacznij quiz</button>
    </form>
    
      <form method='post' action=''>
          {% csrf_token %}
          {% for q in questions %}
          <div class="card mb-3 shadow-sm" style="background: rgba(255, 255, 255, 0.8); border-radius: 8px;">
              <div class="card-body">
                  <h5 class="card-title">{{ q.question }}</h5>
                  <div class="form-check">
                      <input class="form-check-input" type="radio" name="{{ q.question }}" id="gridRadios1-{{ forloop.counter }}" value="option1">
                      <label class="form-check-label" for="gridRadios1-{{ forloop.counter }}">
                          {{ q.op1 }}
                      </label>
                  </div>
                  <div class="form-check">
                      <input class="form-check-input" type="radio" name="{{ q.question }}" id="gridRadios2-{{ forloop.counter }}" value="option2">
                      <label class="form-check-label" for="gridRadios2-{{ forloop.counter }}">
                          {{ q.op2 }}
                      </label>
                  </div>
                  <div class="form-check">
                      <input class="form-check-input" type="radio" name="{{ q.question }}" id="gridRadios3-{{ forloop.counter }}" value="option3">
                      <label class="form-check-label" for="gridRadios3-{{ forloop.counter }}">
                          {{ q.op3 }}
                      </label>
                  </div>
              </div>
          </div>
          {% endfor %}
          <input id='timer' type='hidden' name="timer" value="">
          <button type="submit" class="btn btn-primary w-100 mt-3">Submit</button>
      </form>
  </div>
  
  {% block script %}
  <script>
      const timer = document.getElementById('displaytimer');
      const inputtag = document.getElementById('timer');
      let t = 0;
  
      setInterval(() => {
          t += 1;
          timer.innerHTML = `<b>Timer: ${t} seconds</b>`;
          inputtag.value = t;
      }, 1000);
  </script>
  {% endblock %}
  {% endblock %}
  